{"version":3,"sources":["validityCheck.js"],"names":[],"mappings":"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","file":"validityCheck-compiled.js","sourcesContent":["\"use strict\";\r\nfunction check(config) {\r\n    var tempArr = Object.keys(config.fileds);\r\n    for (let i = 0; i < tempArr.length; ++i) {\r\n        let tempEle = document.querySelectorAll(tempArr[i]);\r\n        for (let j = 0; j < tempEle.length; ++j) {\r\n            tempEle[j].onfocus = function () {\r\n                msgDefault(config.fileds[tempArr[i]].msg, this);\r\n            }\r\n            tempEle[j].onblur = function () {\r\n                var item = config.fileds[tempArr[i]];\r\n                validityItem(item, this);\r\n            }\r\n        }\r\n    }\r\n\r\n    document.querySelector(config.form).onsubmit = function () {\r\n        if (validitySubmit(tempArr, config)) {\r\n            config.success();\r\n        } else {\r\n            config.fail();\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction validityItem(item, thisEle) {\r\n    var tempStr = '';\r\n    if (item.trim == true) {\r\n        tempStr = thisEle.value.trim();\r\n    } else {\r\n        tempStr = thisEle;\r\n    }\r\n    if (item.trim == true) {\r\n        if (item.required == true) {\r\n            let tempMsg = thisEle.parentNode.querySelector('.msg');\r\n            if (item.test(tempStr)) {\r\n                return msgSuccess(item.success, thisEle);\r\n            } else {\r\n                return msgError(item.error, thisEle);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction validitySubmit(arr, config) {\r\n    var flag = true;\r\n    for (let m = 0; m < arr.length; ++m) {\r\n        let tempEle = document.querySelectorAll(arr[m]);\r\n        for (let n = 0; n < tempEle.length; ++n) {\r\n            var item = config.fileds[arr[m]];\r\n            flag = validityItem(item, tempEle[n]);\r\n        }\r\n    }\r\n    return flag;\r\n}\r\n\r\nfunction createMsg(color, str, node) {\r\n    if (node.nextElementSibling != null) {\r\n        if (node.nextElementSibling.nodeName.toLocaleLowerCase() == 'span' && node.nextElementSibling.className.indexOf('msg') > -1) {\r\n            node.parentNode.removeChild(node.nextElementSibling);\r\n        }\r\n    }\r\n    var tempSpan = document.createElement('span');\r\n    tempSpan.innerText = str;\r\n    tempSpan.className = 'msg';\r\n    tempSpan.style.color = color;\r\n    insertAfter(tempSpan, node);\r\n    node.style.borderColor = color;\r\n}\r\n\r\n\r\nfunction msgDefault(str, node) {\r\n    var color = '#999';\r\n    createMsg(color, str, node);\r\n}\r\n\r\nfunction msgError(str, node) {\r\n    var color = 'red';\r\n    createMsg(color, str, node);\r\n    return false;\r\n}\r\n\r\nfunction msgSuccess(str, node) {\r\n    var color = 'green';\r\n    createMsg(color, str, node);\r\n    return true;\r\n}\r\n\r\nfunction insertAfter(newNode, node) {\r\n    if (node.parentNode.lastChild == node) {\r\n        node.parentNode.appendChild(newNode);\r\n    } else {\r\n        node.parentNode.insertBefore(newNode, node.nextElementSibling);\r\n    }\r\n}"]}