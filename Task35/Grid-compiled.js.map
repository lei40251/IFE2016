{"version":3,"sources":["Grid.js"],"names":[],"mappings":"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","file":"Grid-compiled.js","sourcesContent":["(function (window) {\r\n    \"use strict\";\r\n    function Table(config) {\r\n        this.config = config;\r\n        this.side = this.config.width / this.config.amount;\r\n        this.robotDeg = 0;\r\n    }\r\n\r\n    Table.prototype = {\r\n        constructor: Table,\r\n        init: function () {\r\n            var container = document.querySelector(this.config.container);\r\n            container.style.width = container.style.height = this.config.width + 'px';\r\n            for (let i = 0; i < this.config.amount; ++i) {\r\n                var rowSpan = this._createEle('span', 'row', i + 1, 0);\r\n                rowSpan.style.top = this.side * i + 'px';\r\n                rowSpan.innerText = i + 1;\r\n                rowSpan.style.left = `-${this.side}px`;\r\n                document.querySelector(this.config.container).appendChild(rowSpan);\r\n                for (let j = 0; j < this.config.amount; ++j) {\r\n                    if (i == 0) {\r\n                        var colSpan = this._createEle('span', 'col', 0, j + 1);\r\n                        colSpan.innerText = j + 1;\r\n                        colSpan.style.top = `-${this.side}px`;\r\n                        document.querySelector(this.config.container).appendChild(colSpan);\r\n                    }\r\n                    document.querySelector(this.config.container).appendChild(this._createEle('span', 'cell', i + 1, j + 1));\r\n                }\r\n            }\r\n            this._createRobot(this.config.robotX_axis, this.config.robotY_axis);\r\n        },\r\n        _isEmptyObj: function (o) {\r\n            var t;\r\n            for (t in o)\r\n                return !1;\r\n            return !0\r\n        },\r\n        _extend: function (Obj, newObj) {\r\n            if (!this._isEmptyObj(newObj)) {\r\n                for (let i in Obj) {\r\n                    if (newObj[i] != undefined) {\r\n                        Obj[i] = newObj[i];\r\n                    }\r\n                }\r\n            }\r\n            return Obj;\r\n        },\r\n        _createEle: function (tag, className, x_axis, y_axis) {\r\n            var tempSpan = document.createElement(tag);\r\n            tempSpan.style.width = tempSpan.style.height = this.side + 'px';\r\n            tempSpan.style.lineHeight = this.side + 'px';\r\n            tempSpan.className = className;\r\n            tempSpan.setAttribute('data-x', x_axis);\r\n            tempSpan.setAttribute('data-y', y_axis);\r\n            return tempSpan;\r\n        },\r\n        _createRobot: function (x_axis, y_axis) {\r\n            let robot = this._createEle('div', 'robot', x_axis, y_axis);\r\n            robot.style.top = this.side * (y_axis - 1) + 'px';\r\n            robot.style.left = this.side * (x_axis - 1) + 'px';\r\n            robot.style.transform = `rotate(${this.robotDeg}deg)`;\r\n            robot.style.zIndex = 2;\r\n            document.querySelector(this.config.container).appendChild(robot);\r\n        },\r\n        robotGo: function (option) {\r\n            let defaultOpt = {\r\n                direction: 0,\r\n                num: 1\r\n            };\r\n            let robot = document.querySelector('.robot');\r\n            let deg = /[+-]?[\\d]+/.exec(robot.style.transform);\r\n            var robotX = parseInt(robot.getAttribute('data-x'));\r\n            var robotY = parseInt(robot.getAttribute('data-y'));\r\n            var opt = this._extend(defaultOpt, option);\r\n            opt.num == '' ? opt.num = 1 : opt.num = parseInt(opt.num);\r\n            switch (opt.direction || (deg[0] % 360) / 90) {\r\n                case 0:\r\n                    if (robotX > opt.num) {\r\n                        robot.style.top = this.side * (robotX - opt.num - 1) + 'px';\r\n                        robot.setAttribute('data-x', `${robotX - opt.num}`);\r\n                    } else {\r\n                        alert(\"别挪了！到边了~\")\r\n                    }\r\n                    break;\r\n                case 1:\r\n                case -3:\r\n                    if (robotY < (this.config.amount - opt.num)) {\r\n                        robot.style.left = this.side * (robotY + opt.num - 1) + 'px';\r\n                        robot.setAttribute('data-y', `${robotY + opt.num}`);\r\n                    } else {\r\n                        alert(\"别挪了！到边了~\")\r\n                    }\r\n                    break;\r\n                case 2:\r\n                case -2:\r\n                    if (robotX < this.config.amount - opt.num) {\r\n                        robot.style.top = this.side * (robotX + opt.num - 1) + 'px';\r\n                        robot.setAttribute('data-x', `${robotX + opt.num}`);\r\n                    } else {\r\n                        alert(\"别挪了！到边了~\")\r\n                    }\r\n                    break;\r\n                case 3:\r\n                case -1:\r\n                    if (robotY > opt.num) {\r\n                        robot.style.left = this.side * (robotY - opt.num - 1) + 'px';\r\n                        robot.setAttribute('data-y', `${robotY - opt.num}`);\r\n                    } else {\r\n                        alert(\"别挪了！到边了~\")\r\n                    }\r\n                    break;\r\n                default:\r\n                    console.error('命令输入错误！');\r\n\r\n            }\r\n        },\r\n        robotTurn: function (command) {\r\n            let robot = document.querySelector('.robot');\r\n            let deg = /[+-]?[\\d]+/.exec(robot.style.transform);\r\n            switch (command) {\r\n                case 'TUN LEF':\r\n                    deg -= 90;\r\n                    break;\r\n                case 'TUN RIG':\r\n                    deg = parseInt(deg) + 90;\r\n                    break;\r\n                case 'TUN BAC':\r\n                    deg = parseInt(deg) + 180;\r\n                    break;\r\n                case 'MOV LEF':\r\n                    deg = -90;\r\n                    break;\r\n                case 'MOV TOP':\r\n                    deg = 0;\r\n                    break;\r\n                case 'MOV RIG':\r\n                    deg = 90;\r\n                    break;\r\n                case 'MOV BOT':\r\n                    deg = 180;\r\n                    break;\r\n                default:\r\n                    console.error('命令输入错误！');\r\n            }\r\n            robot.style.transform = `rotate(${deg}deg)`;\r\n        }\r\n    };\r\n    window.createGrid = function (config) {\r\n        return new Table(config);\r\n    }\r\n})(window)\r\n"]}